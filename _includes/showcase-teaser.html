{% assign entries = site[include.collection] %}

{% if include.sort_by %}
{% assign entries = entries | sort: include.sort_by %}
{% endif %}

{% if include.sort_order == 'reverse' %}
{% assign entries = entries | reverse %}
{% endif %}

{% assign alignment = include.alignment | default: 'left' %}

{%- for post in entries -%}
{%- unless post.hidden -%}
{%- if include.kind -%}
{%- unless post.kind != include.kind -%}
{%- include showcase-feature.html type=alignment -%}
{%- if include.alternate_alignment -%}
{%- if alignment == 'left' -%}
{%- assign alignment = 'right' -%}
{%- else -%}
{%- assign alignment = 'left' -%}
{%- endif -%}
{%- endif -%}
{%- endunless -%}
{%- else -%}
{%- include showcase-feature.html type=alignment -%}
{%- if include.alternate_alignment -%}
{%- if alignment == 'left' -%}
{%- assign alignment = 'right' -%}
{%- else -%}
{%- assign alignment = 'left' -%}
{%- endif -%}
{%- endif -%}
{%- endif -%}
{%- endunless -%}
{%- endfor -%}